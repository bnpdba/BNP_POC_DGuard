---

  dsthost_fqdn:    "{{ dsthost }}.superit.opvelp"

# VM-system-specific parameters to be filled-in before launching 01-IMGtoVM.yaml

  vm_sysconfig:    /etc/sysconfig
  vm_index:        01
  vm_memory:       8192
  vm_db_ram:       6144
  vm_perc_ram_db:  75
  vm_cpu:          2
  vm_dir:          "/virtual_linux/{{ dsthost }}"
  vm_type:         kvm
  vm_family:       linux
  vm_distrib:      rhel7.9
  vm_nm_scripts:   /etc/sysconfig/network-scripts
  vm_disktype:     sata
  vm_extension:    "+200G"

# VM-related parameters,files and directories

  vm_if1:          eth1
  vm_nm_if1:       ifcfg-eth1

# NFS servers for mounting on db-server

  nas_host:        nas102
  nas_ip:          192.168.1.102
  nas_soft:        "{{ nas_ip }}:/volume1/software"
  nas_soft_mnt:    "/{{ nas_host }}/software"

  nfs_exports: /nas102/software
  nfs_rpcbind_state: started
  nfs_rpcbind_enabled: true
  nfs_server_daemon: nfs-server

# Oracle versions

  vm_OVERS_196:             "19.6.2.0.200714"
  vm_OVERS_121:             "12.1.0.2.200114"
  vm_OVERS:                 "{{ vm_OVERS_196 }}"
  vm_OVERS_SHORT:           "19c"

# LVM-related parameters for PV-name , VG-name and LV-name

  vg_tmp:      vgtmp
  vg_swap:     vgswap
  vg_oradata:  vgdata
  vg_orasoft:  vgsoft

  lv_tmp:      lvtmp
  lv_swap:     lvswap

  lv_orasoft_19: "lvorasoft_{{vm_OVERS_SHORT}}"

  lv_data01:   lvdata01
  lv_data80:   lvdata80
  lv_data81:   lvdata81
  lv_admin:    lvadmin
  lv_archive:  lvarchive
  lv_reco:     lvreco


  size_tmp:         98G
  size_swap:        18G

  size_orasoft_19:  30G

  size_data01:      60G
  size_data80:      5G
  size_data81:      5G
  size_admin:       5G
  size_archive:     20G
  size_reco:        90G

  fstype_tmp:         xfs
  fstype_swap:        xfs

  fstype_orasoft_19:  xfs

  fstype_stage:       xfs
  fstype_data01:      xfs
  fstype_data80:      xfs
  fstype_data81:      xfs
  fstype_admin:       xfs
  fstype_archive:     xfs
  fstype_reco:        xfs
  fstype_nas:         nfs

  dev_tmp:      "/dev/{{ vg_tmp }}/{{ lv_tmp }}"
  dev_swap:     "/dev/{{ vg_swap }}/{{ lv_swap }}"

  dev_orasoft_19:  "/dev/{{ vg_orasoft }}/{{ lv_orasoft_19 }}"

  dev_oradata:  "/dev/{{ vg_oradata }}/{{ lv_oradata }}"
  dev_data01:   "/dev/{{ vg_oradata }}/{{ lv_data01 }}"
  dev_data80:   "/dev/{{ vg_oradata }}/{{ lv_data80 }}"
  dev_data81:   "/dev/{{ vg_oradata }}/{{ lv_data81 }}"
  dev_admin:    "/dev/{{ vg_oradata }}/{{ lv_admin }}"
  dev_archive:  "/dev/{{ vg_oradata }}/{{ lv_archive }}"
  dev_reco:     "/dev/{{ vg_oradata }}/{{ lv_reco }}"

  mnt_orasoft_rpm: "{{ mnt_opt }}/oracle"
  mnt_tmp: /tmp
  mnt_opt: /opt
  mnt_stage:       "{{ nas_soft_mnt }}"
  mnt_oradata:     "/oradata"

#  mnt_orasoft   : "/oracle00/home"
  mnt_orabase   : "/apps/oracle"
  mnt_orasoft_19: "{{ mnt_orabase }}/{{ vm_OVERS_196 }}/rdb/std"

  mnt_adump:      "/oradata/admin/adump"
  mnt_diag:       "/oradata/admin/diag"
  mnt_pfile:      "/oradata/admin/pfile"
  mnt_scripts:    "/oradata/admin/scripts"
  mnt_checkpnts:  "/oradata/admin/checkpoints"
  mnt_data01:     "/oradata/data_01"
  mnt_data80:     "/oradata/data_80"
  mnt_data81:     "/oradata/data_81"
  mnt_archive:    "/oradata/archive"
  mnt_reco:       "/oradata/fast_recovery_area"
  mnt_redo:       "/oradata/fast_recovery_area/{{ dstosid_SID }}"
  mnt_control:    "/oradata/fast_recovery_area/control"
  mnt_dgconfig:   "/oradata/DATAGUARDCONFIG"
  mnt_backup:     "/oradata/backup/rman"

  dbprim_ext:     "{% for host in groups['primnodes']  %} {{ hostvars[host]['dbname'] }} {% endfor %}"
  dbstby_ext:     "{% for host in groups['stbynodes'] %} {{ hostvars[host]['dbname'] }} {% endfor %}"

  dbprim: "{{ dbprim_ext|trim}}"
  dbstby: "{{ dbstby_ext|trim}}"

  dstosid_SID:              "{{ dbprim }}"
  dstosid_db_name:          "{{ dbprim }}"
  dstosid_global_name:      "{{ dbprim }}"
  dstosid_SID_stby:         "{{ dbstby }}"
  dstosid_service:          "{{ dbprim|lower }}"
  dstosid_service_stby:     "{{ dbstby|lower }}"
  dstosid_xdb_service:      "{{ dbprim }}XDB"
  dstosi_reco_size:         "40G"

  dstosid_type_db: SI
  dstosid_compat: "19.0.0"

  oracle_uid: 8000
  oracle_user: oracle
  oracle_group: "{{ DBA_GROUP }}"

  oracle_base:              "{{ mnt_orabase }}"
  oracle_home_19000:        "{{ mnt_orasoft_19 }}"
  oracle_lib_19000:         "{{ mnt_orasoft_19 }}/lib:/usr/local/lib64/python3.9/site-packages"
  oracle_user_home:         "/home/{{ oracle_user }}"
  inventory_location:       "/apps/oraInventory"
  jar_location:             "{{ oracle_home_19000 }}/assistants/dbca/templates/"
  oracle_scripts_dir:       "{{ mnt_orabase }}/scripts"

  dstosid_dead_link1:       "{{ oracle_home_19000 }}/rdbms/admin/autoupgrade.jar"

# Network-related settings  

  vm_mac_eth0:     52:54:00:6c:3c:61
  vm_mac_eth1:     52:54:00:6c:3c:62
  vm_net_eth0:     network=ansinet,mac={{ vm_mac_eth0 }}
  vm_net_eth1:     network=ansinet
  vm_ip:           192.168.0.61
  vm_net_source:   ansinet
  vm_net_target:   vnet2
  vm_if0:          eth0
  vm_nm_if0:       "ifcfg-{{ vm_if0 }}"
  vm_netname:      ansinet
  vm_net_simple:   "network={{ vm_netname }}"
  vm_nmask:        255.255.255.0
  vm_gateway:      192.168.0.1
  vm_dns1:         192.168.1.102
  vm_dns2:         8.8.4.4
  vm_dns3:         8.8.8.8
  vm_gtw:          192.168.0.1
  vm_static:       static
  vm_dhcp:         dhcp
  vm_autoconf:     none
  vm_domain:       superit.opvelp
  vm_ansinet:      ansinet,mac={{ vm_mac }}
  vm_vnet2:        network=vnet2
  vm_bridge1:      bridge=virbr1,model=virtio
  vm_bridge2:      bridge=virbr1,source=ansinet,target=vnet2,model=virtio,mac={{ vm_mac }}

# VM-Oracle-specific parameters TO BE FILLED-IN OR REPLACED before launching

  scripts_templates_dir: "{{ mnt_stage }}/Oracle/Oracle190000/ENV"
  rsp_templates_dir:     "{{ mnt_stage }}/Oracle/Oracle190000/RSP"
  zip_goldimage_dir:     "{{ mnt_stage }}/Oracle/Oracle190000/GOLDIMAGE"
  preinst_19_script:     "/etc/init.d/oracle-database-preinstall-19c-firstboot"
  orasoft_19_script:     "{{ vm_CREDB_SH }}"
  orasoft_19_conf:       "{{ vm_CREDB_CONF }}"
  sysconfig_dir:         "/etc/sysconfig"

  dstosid_group:         "{{ oracle_group }}"

  ansible_tmp_dir:       "/home/{{ oracle_user }}/.ansible/tmp"

########################################################################################################
# VM-Oracle-Creation specific parameters TO BE FILLED-IN OR REPLACED before launching 04-preprDB.yaml
# VM-Oracle-Creation specific parameters TO BE FILLED-IN OR REPLACED before launching 04-preprDB.yaml
########################################################################################################
  vm_LISTNAME:     "LISTENER_{{ dstosid_SID }}"
  vm_LSNRPORT:     '1521'
  vm_EXPRESSPORT:  '5500'
  vm_CHARSET:      AL32UTF8
  vm_CDB:          "false"
  vm_NUMPDB:       '1'
  vm_OPTION_DB:    INSTALL_DB_AND_CONFIG
  vm_OPTION_SW:    INSTALL_DB_SWONLY
  

  vm_OPDB1:        "{{ dstosid_SID }}PDB1"
  vm_OPDB2:        "{{ dstosid_SID }}PDB2"
  vm_OPDB3:        "{{ dstosid_SID }}PDB3"
  vm_OPDB4:        "{{ dstosid_SID }}PDB4"
  vm_OBASE:        "{{ oracle_base }}"
  vm_OTEMPL:       "General_Purpose.dbc"
  vm_OINV:         "{{ inventory_location }}"
  vm_ODATA:        "{{ mnt_data01 }}"
  vm_OHOME:        "{{ oracle_home_19000 }}"
  vm_OHOME_CLI:    "/usr/lib/oracle/19.10/client64"

  vm_SETENV_SH:      "{{ oracle_scripts_dir }}/setEnv{{ vm_OVERS_SHORT }}.sh"
  vm_SETENV_SH_TPL:  "{{ scripts_templates_dir }}/{{ oracle_user }}/setEnv{{ vm_OVERS_SHORT }}.template"

  vm_CREDB_SH:       "{{ oracle_scripts_dir }}/createDB_{{ dstosid_SID }}_SIFS_{{ vm_OVERS_SHORT }}.sh"
  vm_CREDB_SH_TPL:   "{{ scripts_templates_dir }}/{{ oracle_user }}/createDB_{{ dstosid_SID }}_SIFS_{{ vm_OVERS_SHORT }}.template"

  vm_CREDB_CONF:     "{{ oracle_scripts_dir }}/createDB_{{ dstosid_SID }}_SIFS_{{ vm_OVERS_SHORT }}.conf"
  vm_CREDB_CONF_TPL: "{{ scripts_templates_dir }}/{{ oracle_user }}/createDB_{{ dstosid_SID }}_SIFS_{{ vm_OVERS_SHORT }}.conf.template"

  vm_SETENV_CLI:      "{{ client_base_19000 }}/setEnv{{ vm_OVERS_SHORT }}.sh"
  vm_SETENV_CLI_TPL:  "{{ scripts_templates_dir }}/{{ oracle_user }}/setEnv{{ vm_OVERS_SHORT }}_cli.template"

  vm_RESPONSE:        "{{ dbca_rsp }}"
  vm_RESPONSE_TPL:    "{{ scripts_templates_dir }}/rsp/{{ dbca_templates }}"

# Users & groups

  root_user: root             
  root_group: root             
  root_uid: 0
  root_user_home: "/{{ root_user }}"

  ansible_user: root             
  ansible_become: yes           
  ansible_become_method: sudo 

  default_user: ansible
  default_user_id: 55555
  default_user_home: "/home/{{ default_user }}"
  default_user_group: ansible

  OINSTALL_GROUP: oinstall
  DBA_GROUP: dba
  OPER_GROUP: oper
  OSBACKUPDBA_GROUP: backupdba
  OSDGDBA_GROUP: dgdba
  OSKMDBA_GROUP: kmdba
  ASMDBA_GROUP: asmdba
  ASMOPER_GROUP: asmoper
  OSRACDBA_GROUP: racdba
  ASMADMIN_GROUP: asmadmin

  OINSTALL_ID: 54321
  DBA_ID: 8000
  OPER_ID: 54323
  OSBACKUPDBA_ID: 54324
  OSDGDBA_ID: 54325
  OSKMDBA_ID: 54326
  ASMDBA_ID: 54327
  ASMOPER_ID: 54328
  ASMADMIN_ID: 54329
  OSRACDBA_ID: 54330

  DEFAULT_USER_GROUP: ansible
  DEFAULT_ID: 55555

  ROOT_Y: "true"
  ROOT_N: "false"
  ROOT_SUDO: "SUDO"
  ROOT_FULL: "ROOT"

  CDB_Y: "true"
  CDB_N: "false"

  AUT_RAM_Y: "true"
  AUT_RAM_N: "false"

  RECO_Y: "true"
  RECO_N: "false"

  DB_MLT: MULTIPURPOSE
  DB_GEN: GENERAL_PURPOSE
  DB_DWH: DATA_WAREHOUSE


  SAMPLES_Y: "true"
  SAMPLES_N: "false"

# Different server
  yum_oracle:   yum.oracle.com


# Different ORACLE-config files

  oratab_file: /etc/oratab
  oraInst_file: /etc/oraInst.loc
  oraenv_file: /usr/local/bin/oraenv
  coraenv_file: /usr/local/bin/coraenv
  dbhome_file: /usr/local/bin/dbhome
  pip3_bin: /usr/local/bin/pip3
  oracle_edition: EE

# Different SYSTEM parameters,files and directories

  os_redhat: RedHat
  os_oel: OracleLinux
  os_centos: CentOs
  os_fedora: Fedora
  repo_dir: /etc/yum.repos.d/
  ol6_repo_file: public-yum-ol6.repo
  ol7_repo_file: public-yum-ol7.repo
  ssh_dir: /etc/ssh/
  yum_dir: /etc/yum.repos.d
  yum_dir_bck: /etc/yum.repos.d/backup
  local_install_folder: /tmp
  sudoers_dest_local: /etc/sudoers.d
  sudoers_dest_bnp: /bnp/sudo_controls/sudoers.d/

# Different flags for extra components to be installed or not

  install_os_packages: true
#  device_persistence:  asmlib
  disable_selinux:     true
  disable_firewall:    false
  extrarepos_enabled:  
  extrarepos_disabled: 
  configure_etc_hosts: true
  configure_epel_repo: true
  configure_public_yum_repo: true

  configure_motd: false

  configure_ntp: true
  ntpserver: europe.pool.ntp.org

  chrony_service_name: chronyd
  chrony_config_location: /etc/chrony.conf
  chrony_config_driftfile: /var/lib/chrony/drift
  chrony_config_keyfile: /etc/chrony.keys
  chrony_pkg_state: present
  chrony_service_state: started
  chrony_service_enabled: yes
  chrony_config_server:
    - 1.europe.pool.ntp.org
    - 2.europe.pool.ntp.org
    - 3.europe.pool.ntp.org
  chrony_config_logdir: /var/log/chrony
  chrony_config_extra_options: {}


  firewall_service: "{% if ansible_distribution_major_version|int==6%}iptables{%elif ansible_distribution_major_version|int==7 %}firewalld{% else %}0{% endif %}"

  bash_shell: /bin/bash
  ksh_shell: /bin/ksh

  configure_cluster: false
  dbpasswords: Oracle_456

# Paths to Oracle-software,oracle-RPM's

  repo_baseurl: "https://yum.oracle.com/repo/OracleLinux"
  ol7_repo_url: "https://yum.oracle.com/public-yum-ol7.repo"
  ol7_repo_name: "public-yum-ol7"

  preinst_19      : oracle-database-preinstall-19c-1.0-3.el7.x86_64
  preinst_19_rpm  : "{{ mnt_stage }}/Oracle/Oracle190000/RPM/EL7/oracle-database-preinstall-19c-1.0-3.el7.x86_64.rpm"

  orasoft_19      : oracle-database-ee-19c-1.0-1.x86_64
  orasoft_19_rpm  : "{{ mnt_stage }}/Oracle/Oracle190000/RPM/EL7/oracle-database-ee-19c-1.0-1.x86_64.rpm"

  preinst_19_1    : oracle-database-preinstall-19c-1.0-1.el7.x86_64
  preinst_19_1_rpm: "{{ mnt_stage }}/Oracle/Oracle190000/RPM/EL7/oracle-database-preinstall-19c-1.0-1.el7.x86_64.rpm"

  nmon_rpm        : "{{ mnt_stage }}/Oracle/Oracle190000/RPM/EL7/nmon-16g-3.el7.x86_64.rpm"
  nmon            : nmon-16g-3.el7.x86_64
  verify_19       : /etc/sysconfig/oracle-database-preinstall-19c/oracle-database-preinstall-19c-verify
  orasoft_19_zip  : "{{ mnt_stage }}/Oracle/Oracle190000/ZIP/LINUX.X64_193000_db_home.zip"

  orasoft_19_tar  : "{{ mnt_stage }}/Oracle/Oracle190000/TAR/LINUX.X64_196200_db_home.tar"

# Paths to Oracle-Client-software
# cli_base_http: "https://download.oracle.com/otn_software/linux/instantclient/191000"

  clbase_19_rpm: "{{ mnt_stage }}/Oracle/Oracle190000/RPM/oracle-instantclient19.10-basic-19.10.0.0.0-1.x86_64.rpm"
  clplus_19_rpm: "{{ mnt_stage }}/Oracle/Oracle190000/RPM/oracle-instantclient19.10-sqlplus-19.10.0.0.0-1.x86_64.rpm"
  cltool_19_rpm: "{{ mnt_stage }}/Oracle/Oracle190000/RPM/oracle-instantclient19.10-tools-19.10.0.0.0-1.x86_64.rpm"
  clodbc_19_rpm: "{{ mnt_stage }}/Oracle/Oracle190000/RPM/oracle-instantclient19.10-odbc-19.10.0.0.0-1.x86_64.rpm"
  cljdbc_19_rpm: "{{ mnt_stage }}/Oracle/Oracle190000/RPM/oracle-instantclient19.10-jdbc-19.10.0.0.0-1.x86_64.rpm"

  clbase_19:  "oracle-instantclient19.10-basic-19.10.0.0.0-1.x86_64"
  clplus_19:  "oracle-instantclient19.10-sqlplus-19.10.0.0.0-1.x86_64"
  cltool_19:  "oracle-instantclient19.10-tools-19.10.0.0.0-1.x86_64"
  clodbc_19:  "oracle-instantclient19.10-odbc-19.10.0.0.0-1.x86_64"
  cljdbc_19:  "oracle-instantclient19.10-jdbc-19.10.0.0.0-1.x86_64"
  python3_cx: "python3-cx-oracle.x86_64"

# Path to Oracle-instant-client19c ande cx_Oracle pip and pip3 libraries

  cxOra_v71_py27mu: "{{ mnt_stage }}/Oracle/CX/python2/cx_Oracle-7.1.0-cp27-cp27mu-manylinux1_x86_64.whl"
  cxOra_v73_py27m:  "{{ mnt_stage }}/Oracle/CX/python2/cx_Oracle-7.3.0-cp27-cp27m-manylinux1_x86_64.whl"
  cxOra_v73_py27mu: "{{ mnt_stage }}/Oracle/CX/python2/cx_Oracle-7.3.0-cp27-cp27mu-manylinux1_x86_64.whl"

  cxOra_v73_py36m:  "{{ mnt_stage }}/Oracle/CX/python3/cx_Oracle-7.3.0-cp36-cp36m-manylinux1_x86_64.whl"
  cxOra_v81_py36m:  "{{ mnt_stage }}/Oracle/CX/python3/cx_Oracle-8.1.0-cp36-cp36m-manylinux1_x86_64.whl"
  cxOra_v81_py39:   "{{ mnt_stage }}/Oracle/CX/python3/cx_Oracle-8.1.0-cp39-cp39-manylinux1_x86_64.whl"

# Oracle Parameter-variables and directories for ORASOFT-RUNINSTALLER

  oracle_vers_19000:  "{{ vm_OVERS }}"

  oracle_name_19000:  "RDBMS{{ vm_OVERS }}"
  oracle_root_sh:     "{{ oracle_home_19000 }}/root.sh"
  orainst_root_sh:    "{{ inventory_location }}/orainstRoot.sh"

  dstosid_vers_19000: "{{ vm_OVERS }}"

#  server_prim:             "{{ groups['primnodes'] }}"
#  server_stby:             "{{ groups.stbynodes }}"
#  server_prim_splitted:    "{{ dsthost.split('01') }}"
#  server_prim:             "{{ dsthost }}"
#  server_stby:             "{{ server_prim_splitted | join('02') }}"

  pfile_prim:       '{{ oracle_home_19000 }}/dbs/init{{ dstosid_SID }}.ora'
  pfile_stby:       '{{ oracle_home_19000 }}/dbs/init{{ dstosid_SID_stby }}.ora'

  server_prim_ext:  "{{ groups['primnodes'][0] }}"
  server_stby_ext:  "{{ groups['stbynodes'][0] }}"

  server_prim: "{{ server_prim_ext|trim}}"
  server_stby: "{{ server_stby_ext|trim}}"

  client_home_19000: "/usr/lib/oracle/19.10/client64"
  client_home_zip  : "{{ mnt_stage }}/Oracle/Oracle190000/ZIP/CLI/LINUX.X64_190000_client_home.zip"
  client_basic_zip : "{{ mnt_stage }}/Oracle/Oracle190000/ZIP/CLI/instantclient-basic-linux.x64-19.10.0.0.0dbru.zip"
  client_jdbc_zip  : "{{ mnt_stage }}/Oracle/Oracle190000/ZIP/CLI/instantclient-jdbc-linux.x64-19.10.0.0.0dbru.zip"
  client_odbc_zip  : "{{ mnt_stage }}/Oracle/Oracle190000/ZIP/CLI/instantclient-odbc-linux.x64-19.10.0.0.0dbru.zip"
  client_sqlpl_zip : "{{ mnt_stage }}/Oracle/Oracle190000/ZIP/CLI/instantclient-sqlplus-linux.x64-19.10.0.0.0dbru.zip"
  client_tools_zip : "{{ mnt_stage }}/Oracle/Oracle190000/ZIP/CLI/instantclient-tools-linux.x64-19.10.0.0.0dbru.zip"

  CTL_TNS_ADMIN: "{{ client_home_19000 }}/network/admin"
  DB_TNS_ADMIN:  "{{ oracle_home_19000 }}/network/admin"

  LISTENER_ORA:  "{{ oracle_home_19000 }}/network/admin/listener.ora"
  LIST_TPL:      "/home/ansible/BNP/ORAPROV_ANSIBLE/roles/10-Install_Uninstall/templates/listener.xml.j2"
  LIST_DRP_TPL:  "/home/ansible/BNP/ORAPROV_ANSIBLE/roles/10-Install_Uninstall/templates/listenerDRP.xml.j2"

  TNSNAMES_ORA:  "{{ oracle_home_19000 }}/network/admin/tnsnames.ora"
  TNS_TPL:       "/home/ansible/BNP/ORAPROV_ANSIBLE/roles/10-Install_Uninstall/templates/tnsnames.xml.j2"

  SQLNET_ORA:    "{{ oracle_home_19000 }}/network/admin/sqlnet.ora"

# Cloning procs are depreciated and should be replaced by untar,unzip followed by a runinst with software-only
# Cloning procs are depreciated and should be replaced by untar,unzip followed by a runinst with software-only
# Cloning procs are depreciated and should be replaced by untar,unzip followed by a runinst with software-only
# Cloning procs are depreciated and should be replaced by untar,unzip followed by a runinst with software-only

  TPERL_BASE:    "{{ oracle_home_19000 }}/perl/bin/perl"
  CLONE_PL_BASE: "{{ oracle_home_19000 }}/clone/bin/clone.pl"
  CLONE_BASE:    "{{ TPERL_BASE }} {{ CLONE_PL_BASE }} ORACLE_BASE={{ oracle_base }} ORACLE_HOME={{ oracle_home_19000 }} OSDBA_GROUP={{ DBA_GROUP }} OSOPER_GROUP={{ OPER_GROUP }} OSBACKUPDBA_GROUP={{ DBA_GROUP }} OSRACDBA_GROUP={{ DBA_GROUP }} -defaultHomeName"
  
  TPERL_DRP:     "{{ oracle_home_19000 }}/perl/bin/perl"
  CLONE_PL_DRP:  "{{ oracle_home_19000 }}/clone/bin/clone.pl"
  CLONE_DRP:     "{{ TPERL_DRP }} {{ CLONE_PL_DRP }} ORACLE_BASE={{ oracle_base }} ORACLE_HOME={{ oracle_home_19000 }} OSDBA_GROUP={{ DBA_GROUP }} OSOPER_GROUP={{ OPER_GROUP }} OSBACKUPDBA_GROUP={{ DBA_GROUP }} OSRACDBA_GROUP={{ DBA_GROUP }} -defaultHomeName"

  MK_GOLD_IMAG:  su - {{ oracle_user }} -c "cd {{ oracle_home_19000 }};./runInstaller -silent -destinationLocation {{ zip_goldimage_dir }}"


  INST_SW_RSP: "{{ oracle_home_19000 }}/runInstaller -silent -noconfig -responseFile {{ oracle_scripts_dir }}/silent-SWONLY.rsp"

  INST_SW_PLAIN: "{{ oracle_home_19000 }}/runInstaller -silent -noconfig oracle.install.option={{ vm_OPTION_SW }} UNIX_GROUP_NAME={{ DBA_GROUP }} INVENTORY_LOCATION={{ inventory_location }} ORACLE_BASE={{ oracle_base }} oracle.install.db.InstallEdition=EE oracle.install.db.OSDBA_GROUP={{ DBA_GROUP }} oracle.install.db.OSOPER_GROUP={{ DBA_GROUP }} oracle.install.db.OSBACKUPDBA_GROUP={{ DBA_GROUP }} oracle.install.db.OSDGDBA_GROUP={{ DBA_GROUP }} oracle.install.db.OSKMDBA_GROUP={{ DBA_GROUP }} oracle.install.db.OSRACDBA_GROUP={{ DBA_GROUP }} oracle.install.db.rootconfig.executeRootScript=false oracle.install.db.rootconfig.configMethod={{ ROOT_FULL }} SECURITY_UPDATES_VIA_MYORACLESUPPORT=false DECLINE_SECURITY_UPDATES=true"

  STRT_LIST: "{{ oracle_home_19000 }}/bin/lsnrctl start"
  STOP_LIST: "{{ oracle_home_19000 }}/bin/lsnrctl stop"
  STAT_LIST: "{{ oracle_home_19000 }}/bin/lsnrctl stat"

  INST_DB: "{{ oracle_home_19000 }}/bin/dbca -silent -J-Djava.io.tmpdir={{ oracle_user_home }}/tmp -createDatabase -initParams db_unique_name={{ dstosid_SID }} -responseFile {{ oracle_scripts_dir }}/silent-DBONLY.rsp"

#  DUP_PRIM_2_STBY: "{{ oracle_home_19000 }}/bin/dbca -silent -createDuplicateDB -gdbName {{ dstosid_SID_stby }} -primaryDBConnectionString {{ server_prim }}:{{ vm_LSNRPORT }}/{{ dstosid_SID }} -sysPassword {{ slussel_sys }} -sid {{ dstosid_SID_stby }} -initParams db_create_file_dest={{ mnt_data01 }},db_recovery_file_dest={{ mnt_reco }},db_name={{ dstosid_db_name }} -createAsStandby -adminManaged -databaseConfigType SINGLE -dbUniqueName {{ dstosid_SID_stby }}"

#  DUP_PRIM_2_STBY: "{{ oracle_home_19000 }}/bin/dbca -J-Djava.io.tmpdir={{ oracle_user_home }}/tmp -silent -createDuplicateDB -gdbName {{ dstosid_SID_stby }} -primaryDBConnectionString {{ server_prim }}:{{ vm_LSNRPORT }}/{{ dstosid_SID }} -sysPassword {{ slussel_sys }} -sid {{ dstosid_SID_stby }} -initParams db_name={{ dstosid_SID }} -createAsStandby -adminManaged -databaseConfigType SINGLE -dbUniqueName {{ dstosid_SID_stby }}"

  DUP_PRIM_2_STBY: "{{ oracle_home_19000 }}/bin/dbca -J-Djava.io.tmpdir={{ oracle_user_home }}/tmp -silent -createDuplicateDB -gdbName {{ dstosid_SID_stby }} -primaryDBConnectionString {{ dsthost }}:{{ vm_LSNRPORT }}/{{ dstosid_SID }} -sysPassword {{ slussel_sys }} -sid {{ dstosid_SID_stby }} -initParams db_name={{ dstosid_SID }} -createAsStandby -adminManaged -databaseConfigType SINGLE -dbUniqueName {{ dstosid_SID_stby }}"


  CONF_DG: "{{ oracle_home_19000 }}/bin/dgmgrl /  {{ conf_dg_cmd }}"
  DG_CONF_NAME: PREPOC_DG

  dg_cmd_1: "create configuration '{{ DG_CONF_NAME }}' as primary database is {{ dstosid_SID }} connect identifier is {{ dstosid_SID }};"
  dg_cmd_2: "add database '{{ dstosid_SID_stby }}' as connect identifier is {{ dstosid_SID_stby }} maintained as physical;"
  dg_cmd_3: "enable configuration;"
  dg_cmd_4: "show configuration;"
  dg_cmd_x: "exit;"


  slussel:       'temp123'
  slussel_temp:  'temp123'

  sys_user:        "sys"
  slussel_sys:     'temp123'

  system_user:    "system"
  slussel_system: 'temp123'

  init_mode:      "sysdba"
  init_user:      "sys"

  ans_user:        "ansible"
  ans_def_tbsp:    "ansible"
  slussel_ans:     'temp123' 

  slussel_orapwd: "temp123"
  format_orapwd:  12
  slussel_user: 'D1hpvdr$0'
  slussel_dbca: 'D1hpvdr$0'
  slussel_root: '@wdl1g3k59'


# Oracle Parameter-variables and directories for DB-creation with DBCA

  dbca_operation: -createDatabase
  dbca_sid: "{{ dstosid_service }}"
  dbca_gdb: "{{ dbca_sid }}"
  dbca_unique_name: "{{ dbca_sid }}"
  dbca_cdb_false: false
  dbca_cdb_true: true
  dbca_charset: "{{ vm_CHARSET }}"
  dbca_nationalcharset: AL16UTF16
  dbca_sys_pwd: "{{ slussel_sys }}"
  dbca_system_pwd: "{{ slussel_system }}" 
  dbca_oradata: "{{ mnt_oradata }}/data_01/{{ dstosid_SID }}"
  dbca_storage_fs: FS
  dbca_storage_asm: ASM_STORAGE
  dbca_storage_dnfs: dNFS 
  dbca_instance_si: SINGLE
#  dbca_redosize: 1024
  dbca_redosize: 1073741824
  dbca_total_mb: 4096
  dbca_db_purpose: GENERAL_PURPOSE
  dbca_sample_true: true
  dbca_sample_false: false
  dbca_noem: NONE
  dbca_auto_sga: auto_sga 
  dbca_noauto_sga: none
  dbca_template_general: General_Purpose.dbc
  dbca_template_new: New_Database.dbt
  dbca_rsp: "{{ oracle_scripts_dir }}/silent-DBONLY.rsp"

  dbca_templates: dbca-silent.rsp.template

  repo_folder: "{{ oracle_base }}/scripts"

  basic_packages:
      - screen
      - facter
      - procps
      - module-init-tools
      - ethtool
      - bc
      - nc
      - bind-utils
      - nfs-utils
      - make
      - sysstat
      - unzip
      - openssh-clients
      - compat-libcap1
      - rlwrap
      - tigervnc-server
      - chrony
      - expect
      - git
      - xfsprogs
      - btrfs-progs
      - python-devel
      - python-pip
      - libselinux-python
      - autofs
      - parted
      - mlocate
      - ksh
      - lvm2
      - nmon
      - psmisc

  oracle_packages:
      - libgcc
      - libgcc.i686
      - wget
      - tar
      - curl
      - python
      - python3
      - ansible
      - python-setuptools
      - python3-setuptools
      - xorg-x11-xauth
      - xorg-x11-xinit
      - libXtst
      - xdpyinfo
      - xterm
      - xsetroot
      - libXp
      - libXt
      - libXau
      - libXau.i686
      - libXi
      - libXi.i686
      - libX11
      - libX11.i686
      - util-linux-ng
      - xorg-x11-utils
      - xorg-x11-xauth
      - binutils
      - compat-libcap1
      - compat-libstdc++-33
      - compat-libstdc++-33.i686
      - unixODBC-devel
      - unixODBC-devel.i686
      - gcc
      - gcc-c++
      - glibc
      - glibc.i686
      - glibc-devel
      - glibc-devel.i686
      - libaio
      - libaio-devel
      - libaio.i686
      - libaio-devel.i686
      - libstdc++
      - libstdc++-devel
      - libstdc++.i686
      - libstdc++-devel.i686
      - libXext
      - libXext.i686
      - zlib-devel
      - zlib-devel.i686
      - smartmontools
      - elfutils-libelf-devel.i686
      - elfutils-libelf-devel
      - cpp
      - ksh
      - lvm2
      - nmon

  os_family_supported: RedHat
  os_min_supported_version: 6.4
